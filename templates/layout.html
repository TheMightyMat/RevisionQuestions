<!DOCTYPE html>
<style>
  .spacing {
    margin-top: 1.5cm
  }
</style>

<html>
  <head>
    <meta charset="utf-8">
    <title>Revision Helper</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    {% block head %}{% endblock %}
  </head>
  <body>
    <nav class="navbar is-fixed-top" role="navigation" aria-label-"main navigation">
      <div class="container">
        <div class="navbar-brand">
          <a class="navbar-item" href="/">
            <h1 class="title is-4">Revision Helper</h1>
          </a>
          <a class="navbar-item is-hidden-desktop" href="/create">Create</a>
          <a class="navbar-item is-hidden-desktop" href="/subjects">Answer</a>
          {% if session.username %}
            <div class="navbar-item is-hidden-desktop">
              <small>{{session.username}}</small>
            </div>
            <a class="navbar-item is-hidden-desktop" href="/logout">
              Log Out
            </a>
          {% else %}
            <a class="navbar-item is-hidden-desktop" href="/login">Login</a>
            <a class="navbar-item is-hidden-desktop" href="/signup">Sign Up</a>
          {% endif %}
        </div>
        <div class="navbar-menu">
          <div class="navbar-start"></div>
          <div class="navbar-end">
            {% if session.username %}
              <div class="navbar-item">
                <small>{{session.username}}</small>
              </div>
              <a class="navbar-item" href="/logout">
                Log Out
              </a>
            {% else %}
              <a class="navbar-item" href="/login">Login</a>
              <a class="navbar-item" href="/signup">Sign Up</a>
            {% endif %}
            <div class="navbar-item has-dropdown">
              <a class="navbar-link">
                Revise!
              </a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="/create">Create</a>
                <a class="navbar-item" href="/subjects">Answer</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="spacing"></div>

    {% block body %}{% endblock %}

    <script type="text/javascript">
      var $dropdowns = document.querySelectorAll('.navbar-item.has-dropdown:not(.is-hoverable)');

      if ($dropdowns.length > 0) {
        $dropdowns.forEach(function ($el) {
          $el.addEventListener('click', function (event) {
            event.stopPropagation();
            $el.classList.toggle('is-active');
          });
        });

        document.addEventListener('click', function (event) {
          closeDropdowns();
        });
      }

      function closeDropdowns() {
        $dropdowns.forEach(function ($el) {
          $el.classList.remove('is-active');
        });
      }
    </script>
  </body>
</html>
